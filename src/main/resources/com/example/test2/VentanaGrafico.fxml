<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>

<AnchorPane fx:id="root" prefHeight="600.0" prefWidth="900.0" style="-fx-background-color: linear-gradient(to bottom, #141e30, #243b55);" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.test2.VentanaGrafico">

    <children>
        <!-- Contenedor central -->
        <StackPane prefHeight="600.0" prefWidth="900.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <children>

                <!-- Tarjeta -->
                <StackPane maxHeight="480.0" maxWidth="760.0">
                    <children>

                        <!-- Fondo de la tarjeta -->
                        <Rectangle arcHeight="30.0" arcWidth="30.0" height="480.0" style="-fx-fill: rgba(15,22,40,0.95);" width="760.0" />

                        <!-- Contenido de la tarjeta -->
                        <VBox spacing="18.0">
                            <padding>
                                <Insets bottom="22.0" left="26.0" right="26.0" top="22.0" />
                            </padding>
                            <children>

                                <!-- Header -->
                                <HBox spacing="10.0">
                                    <children>

                                        <!-- Título -->
                                        <VBox spacing="4.0">
                                            <children>
                                                <Label style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;" text="Panel de ventas" />

                                                <Label style="-fx-text-fill: #9faac7; -fx-font-size: 13px;" text="Visualiza las ventas diarias y mensuales" />
                                            </children>
                                        </VBox>

                                        <!-- Espaciador -->
                                        <Label prefWidth="200.0" text="" />

                                        <!-- Selector tipo de vista (futuro: botones día/mes) -->
                                        <VBox spacing="4.0" />
                              <Button fx:id="btnCambiarVentana" onAction="#volvermenuprincipal" prefHeight="36.0" prefWidth="216.0" style="-fx-background-color: #c94c4c;                                                -fx-text-fill: white;                                                -fx-font-weight: bold;                                                -fx-background-radius: 8;                                                -fx-padding: 6 18;" text="Volver" />

                                    </children>
                                </HBox>

                                <!-- Gráfico -->
                                <BorderPane prefHeight="320.0">
                                    <left>
                                        <LineChart fx:id="lineChartVentas" animated="false" legendVisible="true" prefHeight="300.0" prefWidth="700.0" BorderPane.alignment="CENTER">
                                            <xAxis>
                                                <CategoryAxis fx:id="ejeX" label="Fecha" />
                                            </xAxis>
                                            <yAxis>
                                                <NumberAxis fx:id="ejeY" label="Monto (CLP)" opacity="0.64" tickLabelFill="#f2f2f2" />
                                            </yAxis>
                                        </LineChart>
                                    </left>
                                </BorderPane>

                                <!-- Resumen inferior -->
                                <HBox spacing="18.0">
                                    <children>

                                        <VBox spacing="4.0">
                                            <children>
                                                <Label style="-fx-text-fill: #9faac7; -fx-font-size: 11px;" text="Ventas hoy" />
                                                <Label fx:id="lblVentasHoy" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="" />
                                            </children>
                                        </VBox>

                                        <VBox spacing="4.0">
                                            <children>
                                                <Label style="-fx-text-fill: #9faac7; -fx-font-size: 11px;" text="Ventas este mes" />
                                                <Label fx:id="lblVentasMes" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="" />
                                            </children>
                                        </VBox>

                                        <VBox spacing="4.0">
                                            <children>
                                                <Label style="-fx-text-fill: #9faac7; -fx-font-size: 11px;" text="Boletas Registradas" />
                                                <Label fx:id="lblTotalRegistros" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="0" />
                                            </children>
                                        </VBox>
                              <VBox layoutX="296.0" layoutY="10.0" spacing="4.0">
                                 <children>
                                    <Label fx:id="TextoERROR" prefHeight="26.0" prefWidth="109.0" style="-fx-text-fill: D40000; -fx-font-size: 11px;" textFill="#e10a0a" />
                                 </children>
                              </VBox>

                                    </children>
                                </HBox>

                            </children>
                        </VBox>

                    </children>
                </StackPane>

            </children>
        </StackPane>
    </children>
</AnchorPane>
